<Page x:Class="A_Mapping2.Views.Pages.HomePage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:local="clr-namespace:A_Mapping2.Views.Pages"
      mc:Ignorable="d" 
      d:DesignHeight="450" d:DesignWidth="800"
      Title="HomePage">

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="200"/>
            <!-- Drawer -->
            <ColumnDefinition Width="*"/>
            <!-- Conteúdo -->
        </Grid.ColumnDefinitions>

        <!-- Sidebar -->
        <StackPanel Grid.Column="0" Background="#eee" >
            <StackPanel Orientation="Horizontal" Margin="0 0 0 20">
                <TextBlock Text="{Binding Username}" VerticalAlignment="Center" Margin="10 0"/>
                <Ellipse Width="40" Height="40" Fill="Gray"
                         Cursor="Hand"
                         MouseLeftButtonUp="Ellipse_MouseLeftButtonUp"/>
            </StackPanel>
            <Button Content="Criar novo mapa"
                    Command="{Binding CreateMindMapCommand}"
                    Margin="0 10"/>
            <ListBox ItemsSource="{Binding MindMaps}"
                     DisplayMemberPath="Titulo"
                     SelectionChanged="MapSelectionChanged"/>
        </StackPanel>

        <!-- Conteúdo principal -->
        <Grid Grid.Column="1">
            <StackPanel x:Name="MainContent">
            <TextBlock Text="Bem-vindo!" FontSize="24" VerticalAlignment="Top" Margin="0,50" HorizontalAlignment="Center"/>

            <Border BorderBrush="Gray" BorderThickness="2" CornerRadius="10" Padding="30"
                Background="#EEE" AllowDrop="True"
                Drop="DropArea_Drop" DragOver="DropArea_DragOver" Margin="73,185,65,52" Height="126">
                <TextBlock x:Name="DropText" Text="Arraste aqui o seu ficheiro para começar"
                       FontSize="18" HorizontalAlignment="Center" VerticalAlignment="Center"/>
            </Border>
            </StackPanel>

            <!-- Barra de progresso (oculta por defeito) -->
            <StackPanel x:Name="ProgressArea" Orientation="Vertical" Visibility="Collapsed" Margin="0,242,0,30">
                <TextBlock Text="A processar..." FontSize="16" HorizontalAlignment="Center" Margin="0 10"/>
                <ProgressBar IsIndeterminate="True" Height="20" Width="200" HorizontalAlignment="Center"/>
            </StackPanel>
          
        </Grid>
    </Grid>
</Page>
