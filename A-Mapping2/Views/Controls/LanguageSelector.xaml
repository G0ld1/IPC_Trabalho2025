<UserControl x:Class="A_Mapping2.Views.Controls.LanguageSelector"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:local="clr-namespace:A_Mapping2.Views.Controls"
             mc:Ignorable="d"
             d:DesignHeight="50" d:DesignWidth="150">
    <StackPanel>
        <TextBlock Name="languageSelectorComboBox" Text="Language Selector" Visibility="Hidden" />
        <ComboBox x:Name="LanguageComboBox" SelectionChanged="LanguageSelector_SelectionChanged"
                  FontFamily="Outfit"
                  FontWeight="SemiBold"
                  Foreground="Black"
                  Background="Transparent"
                  FontSize="16"
                  BorderBrush="#586D4137"
                  Width="110" Margin="10"
                  AutomationProperties.LabeledBy="{Binding ElementName=languageSelectorComboBox}">
            <ComboBox.Template>
                <ControlTemplate TargetType="ComboBox">
                    <Grid>
                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="2"
                                CornerRadius="10"
                                Width="110" Margin="0">
                            <ToggleButton Name="ToggleButton"
                                          Content="{DynamicResource LangBut}"
                                          HorizontalContentAlignment="Left"
                                          Background="Transparent"
                                          Foreground="White"
                                          BorderThickness="0"
                                          IsChecked="{Binding IsDropDownOpen, RelativeSource={RelativeSource TemplatedParent}}"
                                          ClickMode="Press"
                                          VerticalContentAlignment="Center"
                                          Width="130" Height="40"
                                          Margin="25,0,0,0">
                                <ToggleButton.Style>
                                    <Style TargetType="{x:Type ToggleButton}">
                                        <Setter Property="Content" Value="EDIT"/>
                                        <Setter Property="Template">
                                            <Setter.Value>
                                                <ControlTemplate TargetType="ToggleButton">
                                                    <Border x:Name="border"
                                                            BorderBrush="{TemplateBinding BorderBrush}"
                                                            BorderThickness="{TemplateBinding BorderThickness}"
                                                            Background="{TemplateBinding Background}"
                                                            SnapsToDevicePixels="True">
                                                        <ContentPresenter x:Name="contentPresenter"
                                                                          ContentTemplate="{TemplateBinding ContentTemplate}"
                                                                          Content="{TemplateBinding Content}"
                                                                          ContentStringFormat="{TemplateBinding ContentStringFormat}"
                                                                          Focusable="False"
                                                                          HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                                                          Margin="{TemplateBinding Padding}"
                                                                          RecognizesAccessKey="True"
                                                                          SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}"
                                                                          VerticalAlignment="{TemplateBinding VerticalContentAlignment}"/>
                                                    </Border>
                                                </ControlTemplate>
                                            </Setter.Value>
                                        </Setter>
                                        <Style.Triggers>
                                            <Trigger Property="IsMouseOver" Value="true">
                                                <Setter Property="Content" Value="Done"/>
                                                <Setter Property="FontWeight" Value="Bold"/>
                                            </Trigger>
                                        </Style.Triggers>
                                    </Style>
                                </ToggleButton.Style>
                            </ToggleButton>
                        </Border>
                        <Popup Name="Popup"
                               IsOpen="{TemplateBinding IsDropDownOpen}"
                               Placement="Bottom"
                               AllowsTransparency="True"
                               Focusable="False"
                               Width="110" Margin="10">
                            <Border 
                                    Background="Transparent"
                                    BorderThickness="1" CornerRadius="10">
                                <ScrollViewer>
                                    <ItemsPresenter />
                                </ScrollViewer>
                            </Border>
                        </Popup>
                    </Grid>
                </ControlTemplate>
            </ComboBox.Template>
            <ComboBoxItem Content="English" HorizontalContentAlignment="Center" Foreground="White" Tag="en" />
            <ComboBoxItem Content="Portugues" HorizontalContentAlignment="Center" Foreground="White" Tag="pt" />
        </ComboBox>
    </StackPanel>
</UserControl>